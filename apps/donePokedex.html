<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DoneDex</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-yellow-50 text-gray-900 font-sans p-4 min-h-screen">

  <!-- Header -->
  <div class="mb-6 text-center">
    <h1 class="text-4xl font-extrabold text-red-600">ðŸŽ¯ DoneDex</h1>
    <p class="text-md text-gray-600 mt-1">Complete tasks. Catch PokÃ©mon. Build your legacy.</p>
  </div>

  <!-- Input Section -->
  <div class="mb-8">
    <div class="flex flex-col sm:flex-row gap-2">
      <textarea id="taskInput" rows="2" placeholder="What did you do today?" class="flex-1 p-3 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-red-400"></textarea>
      <button id="addButton" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600 transition">Add</button>
    </div>
  </div>

  <span class="font-sans text-sm" id="info"></span>

   <!-- Done List Section -->
   <div>
      <h2 class="text-2xl font-bold text-yellow-800 mb-3"  id="donelistdiv">âœ… Done List <span id="doneToggle" onclick="showDoneList()">ðŸ”¼</span></h2>
      <ul id="doneList" class="space-y-2">
        <!-- Done items will appear here -->
      </ul>
    </div>

  <!-- PokÃ©dex Section -->
  <div class="mb-8">
    <h2 class="text-2xl font-bold text-indigo-700 mb-3" id="pokedexdiv">ðŸ“˜ Your PokÃ©dex <span id="pokedexToggle" onclick="showPokedex()">ðŸ”¼</span></h2>
    <div id="pokedex" class="grid grid-cols-3 sm:grid-cols-6 gap-2 text-center">
      <!-- PokÃ©mon caught will appear here -->
    </div>
  </div>

 

  <script>

   function showPokedex() {
      const pokedex = document.getElementById("pokedex");
      if(pokedex.style.display != "none") {
         pokedex.style.display = "none";
         document.getElementById("pokedexToggle").innerText = "ðŸ”½";
      }
      else {
         pokedex.style.display = "";
         document.getElementById("pokedexToggle").innerText = "ðŸ”¼";
      }
   }

   function showDoneList() {
      const doneList = document.getElementById("doneList");
      if(doneList.style.display != "none") {
         doneList.style.display = "none";
         document.getElementById("doneToggle").innerText = "ðŸ”½";
         
      }
      else {
         doneList.style.display = "block";
         document.getElementById("doneToggle").innerText = "ðŸ”½";
      }
   }

    //all 151 pokemon -- gen 1 with chances
    const pokemons = [
      {name:"Bulbasaur",chance: 18},
      {name:"Ivysaur",chance: 18},
      {name:"Venusaur",chance: 18},
      {name:"Charmander",chance: 18},
      {name:"Charmeleon",chance: 18},
      {name:"Charizard",chance: 18},
      {name:"Squirtle",chance: 18},
      {name:"Wartortle",chance: 18},
      {name:"Blastoise",chance: 18},
      {name:"Caterpie",chance: 100},
      {name:"Metapod",chance: 47},
      {name:"Butterfree",chance: 18},
      {name:"Weedle",chance: 100},
      {name:"Kakuna",chance: 47},
      {name:"Beedrill",chance: 18},
      {name:"Pidgey",chance: 100},
      {name:"Pidgeotto",chance: 47},
      {name:"Pidgeot",chance: 18},
      {name:"Rattata",chance: 100},
      {name:"Raticate",chance: 50},
      {name:"Spearow",chance: 100},
      {name:"Fearow",chance: 35},
      {name:"Ekans",chance: 100},
      {name:"Arbok",chance: 35},
      {name:"Pikachu",chance: 75},
      {name:"Raichu",chance: 29},
      {name:"Sandshrew",chance: 100},
      {name:"Sandslash",chance: 35},
      {name:"Nidoran-f",chance: 92},
      {name:"Nidorina",chance: 47},
      {name:"Nidoqueen",chance: 18},
      {name:"Nidoran-m",chance: 92},
      {name:"Nidorino",chance: 47},
      {name:"Nidoking",chance: 18},
      {name:"Clefairy",chance: 59},
      {name:"Clefable",chance: 10},
      {name:"Vulpix",chance: 75},
      {name:"Ninetales",chance: 29},
      {name:"Jigglypuff",chance: 67},
      {name:"Wigglytuff",chance: 20},
      {name:"Zubat",chance: 100},
      {name:"Golbat",chance: 35},
      {name:"Oddish",chance: 100},
      {name:"Gloom",chance: 47},
      {name:"Vileplume",chance: 18},
      {name:"Paras",chance: 75},
      {name:"Parasect",chance: 29},
      {name:"Venonat",chance: 75},
      {name:"Venomoth",chance: 29},
      {name:"Diglett",chance: 100},
      {name:"Dugtrio",chance: 20},
      {name:"Meowth",chance: 100},
      {name:"Persian",chance: 35},
      {name:"Psyduck",chance: 75},
      {name:"Golduck",chance: 29},
      {name:"Mankey",chance: 75},
      {name:"Primeape",chance: 29},
      {name:"Growlithe",chance: 75},
      {name:"Arcanine",chance: 29},
      {name:"Poliwag",chance: 100},
      {name:"Poliwhirl",chance: 47},
      {name:"Poliwrath",chance: 18},
      {name:"Abra",chance: 78},
      {name:"Kadabra",chance: 39},
      {name:"Alakazam",chance: 20},
      {name:"Machop",chance: 71},
      {name:"Machoke",chance: 35},
      {name:"Machamp",chance: 18},
      {name:"Bellsprout",chance: 100},
      {name:"Weepinbell",chance: 47},
      {name:"Victreebel",chance: 18},
      {name:"Tentacool",chance: 75},
      {name:"Tentacruel",chance: 24},
      {name:"Geodude",chance: 100},
      {name:"Graveler",chance: 47},
      {name:"Golem",chance: 18},
      {name:"Ponyta",chance: 75},
      {name:"Rapidash",chance: 24},
      {name:"Slowpoke",chance: 75},
      {name:"Slowbro",chance: 29},
      {name:"Magnemite",chance: 75},
      {name:"Magneton",chance: 24},
      {name:"Farfetchd",chance: 18},
      {name:"Doduo",chance: 75},
      {name:"Dodrio",chance: 18},
      {name:"Seel",chance: 75},
      {name:"Dewgong",chance: 29},
      {name:"Grimer",chance: 75},
      {name:"Muk",chance: 29},
      {name:"Shellder",chance: 75},
      {name:"Cloyster",chance: 24},
      {name:"Gastly",chance: 75},
      {name:"Haunter",chance: 35},
      {name:"Gengar",chance: 18},
      {name:"Onix",chance: 18},
      {name:"Drowzee",chance: 75},
      {name:"Hypno",chance: 29},
      {name:"Krabby",chance: 88},
      {name:"Kingler",chance: 24},
      {name:"Voltorb",chance: 75},
      {name:"Electrode",chance: 24},
      {name:"Exeggcute",chance: 35},
      {name:"Exeggutor",chance: 18},
      {name:"Cubone",chance: 75},
      {name:"Marowak",chance: 29},
      {name:"Hitmonlee",chance: 18},
      {name:"Hitmonchan",chance: 18},
      {name:"Lickitung",chance: 18},
      {name:"Koffing",chance: 75},
      {name:"Weezing",chance: 24},
      {name:"Rhyhorn",chance: 47},
      {name:"Rhydon",chance: 24},
      {name:"Chansey",chance: 12},
      {name:"Tangela",chance: 18},
      {name:"Kangaskhan",chance: 18},
      {name:"Horsea",chance: 88},
      {name:"Seadra",chance: 29},
      {name:"Goldeen",chance: 88},
      {name:"Seaking",chance: 24},
      {name:"Staryu",chance: 88},
      {name:"Starmie",chance: 24},
      {name:"Mr. Mime",chance: 18},
      {name:"Scyther",chance: 18},
      {name:"Jynx",chance: 18},
      {name:"Electabuzz",chance: 18},
      {name:"Magmar",chance: 18},
      {name:"Pinsir",chance: 18},
      {name:"Tauros",chance: 18},
      {name:"Magikarp",chance: 100},
      {name:"Gyarados",chance: 18},
      {name:"Lapras",chance: 18},
      {name:"Ditto",chance: 14},
      {name:"Eevee",chance: 18},
      {name:"Vaporeon",chance: 18},
      {name:"Jolteon",chance: 18},
      {name:"Flareon",chance: 18},
      {name:"Porygon",chance: 18},
      {name:"Omanyte",chance: 18},
      {name:"Omastar",chance: 18},
      {name:"Kabuto",chance: 18},
      {name:"Kabutops",chance: 18},
      {name:"Aerodactyl",chance: 18},
      {name:"Snorlax",chance: 10},
      {name:"Articuno",chance: 1},
      {name:"Zapdos",chance: 1},
      {name:"Moltres",chance: 1},
      {name:"Dratini",chance: 18},
      {name:"Dragonair",chance: 18},
      {name:"Dragonite",chance: 18},
      {name:"Mewtwo",chance: 1},
      {name:"Mew",chance: 18},
];

   let caughtPokemon = [];
    const taskInput = document.getElementById("taskInput");
    const addButton = document.getElementById("addButton");
    const pokedex = document.getElementById("pokedex");
    const doneList = document.getElementById("doneList");

    function getCurrentTime() {
      const now = new Date();
      return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    addButton.addEventListener("click", () => {
  const text = taskInput.value.trim();
  if (!text) return;

  // Create done item with full timestamp
  const li = document.createElement("li");
  li.className = "p-3 bg-yellow-100 border-l-4 border-yellow-400 rounded shadow-sm";

  const taskText = document.createElement("div");
  taskText.className = "font-medium";
  taskText.textContent = text;

  const now = new Date();
  const dateTime = now.toLocaleString('en-US', {
    dateStyle: 'long',
    timeStyle: 'short'
  });

  const timeTag = document.createElement("div");
  timeTag.className = "text-sm text-gray-500 mt-1";
  timeTag.textContent = dateTime;

  li.appendChild(taskText);
  li.appendChild(timeTag);
  doneList.prepend(li);

  // Add PokÃ©mon with name

  //choose a random pokemon
  let rnd = Math.floor(Math.random() * pokemons.length);
  //alert(rnd);
  const pokeName = (pokemons[rnd].name).toLowerCase();
  const pokeChance = pokemons[rnd].chance;

  console.log(pokeName, pokeChance);


  //can we catch it?
  let diceRoll = Math.floor(Math.random() * 100);
  
  if(diceRoll < pokeChance) { //if caught
   if(!caughtPokemon.includes(pokeName)) {
      document.getElementById("info").innerText = `${pokeName} is caught!`;

      caughtPokemon.push(pokeName);
      console.log("pokemon caught");
      const container = document.createElement("div");

      const img = document.createElement("img");
      img.src = `https://img.pokemondb.net/sprites/home/normal/${pokeName}.png`;
      img.alt = pokeName;
      img.title = pokeName;
      img.className = "w-16 h-16 mx-auto";

      const name = document.createElement("p");
      name.textContent = pokeName.charAt(0).toUpperCase() + pokeName.slice(1);
      name.className = "text-xs mt-1 text-gray-600";

      container.appendChild(img);
      container.appendChild(name);
      pokedex.appendChild(container);
   }
   else {

      document.getElementById("info").innerText = `${pokeName} is already caught!`;
      //alert("oi!");


   }
  }
  else {
   document.getElementById("info").innerText = `${pokeName} ran away!`;
   console.log("pokemon ran away...");
  }

  

  taskInput.value = "";
});

  </script>

</body>
</html>
